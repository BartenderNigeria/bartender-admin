{"ast":null,"code":"var _jsxFileName = \"/Users/user/Bartender/bartender admin/src/components/Agents.js\";\nimport React, { Component } from 'react';\nimport Agent from '../subcomponents/Agent';\nimport AddAgent from '../subcomponents/AddAgent';\nimport EditAgent from '../subcomponents/EditAgent';\nimport Loader from '../subcomponents/Loader';\nimport ConfirmAction from \"../subcomponents/ConfirmAction\";\nimport * as API from '../api/Api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst left = {\n  float: \"left\"\n};\nconst right = {\n  float: \"right\",\n  marginTop: \"-0.01px\"\n};\nexport default class Agents extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showConfirm: false,\n      title: \"Confirm Delete\",\n      message: \"Are you sure you want to delete the selected agent profile ?\",\n      isLoading: true,\n      showAddAgent: false,\n      showEditAgent: false,\n      selected_agent: {},\n      agents: []\n    };\n    this.handleCloseModal = this.handleCloseModal.bind(this);\n    this.reloadAgents = this.reloadAgents.bind(this);\n    this.showAddAgent = this.showAddAgent.bind(this);\n    this.showEditAgent = this.showEditAgent.bind(this);\n    this.deleteAgent = this.deleteAgent.bind(this);\n    this.showLoading = this.showLoading.bind(this);\n    this.hideLoading = this.hideLoading.bind(this);\n    this.hideConfirm = this.hideConfirm.bind(this);\n    this.showConfirm = this.showConfirm.bind(this);\n    this.yesClicked = this.yesClicked.bind(this);\n    this.noClicked = this.noClicked.bind(this);\n  }\n\n  async yesClicked() {\n    this.hideConfirm();\n    this.showLoading();\n    const response = await API.deleteAgent(this.state.selected_agent._id);\n    this.hideLoading();\n\n    if (response == \"error\") {\n      //show error message\n      return;\n    }\n\n    if (response && response.data) {\n      this.reloadAgents();\n    }\n  }\n\n  noClicked() {\n    this.hideConfirm();\n  }\n\n  showConfirm() {\n    this.setState({\n      showConfirm: true\n    });\n  }\n\n  hideConfirm() {\n    this.setState({\n      showConfirm: false\n    });\n  }\n\n  showLoading() {\n    this.setState({\n      isLoading: true\n    });\n  }\n\n  hideLoading() {\n    this.setState({\n      isLoading: false\n    });\n  }\n\n  async componentDidMount() {\n    this.showLoading();\n    const response = await API.getAgents();\n    this.hideLoading();\n\n    if (response == \"error\") {\n      //show error message\n      return;\n    }\n\n    if (response && response.data) {\n      this.setState({\n        agents: response.data\n      });\n    }\n  }\n\n  async reloadAgents() {\n    this.handleCloseModal();\n    const response = await API.getAgents();\n\n    if (response == \"error\") {\n      //show error message\n      return;\n    }\n\n    if (response && response.data) {\n      this.setState({\n        agents: response.data\n      });\n    }\n  }\n\n  handleCloseModal() {\n    this.setState({\n      showAddAgent: false,\n      showEditAgent: false\n    });\n  }\n\n  showAddAgent() {\n    this.setState({\n      showAddAgent: true\n    });\n  }\n\n  showEditAgent(e, agent) {\n    this.setState({\n      showEditAgent: true,\n      selected_agent: agent\n    });\n    e.preventDefault();\n  }\n\n  deleteAgent(e, agent) {\n    e.preventDefault();\n    this.setState({\n      selected_agent: agent\n    });\n    this.showConfirm();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top-div\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"text-left\",\n            style: left,\n            children: [this.state.agents.length, \" Agents\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.showAddAgent,\n            className: \"green-bg bt-btn\",\n            style: right,\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-plus white-text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 104\n            }, this), \" Add Agent\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: this.state.agents.map(agent => {\n            return /*#__PURE__*/_jsxDEV(Agent, {\n              agent: agent,\n              deleteAgent: this.deleteAgent,\n              editClicked: this.showEditAgent\n            }, agent._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 40\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Loader, {\n        isLoading: this.state.isLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ConfirmAction, {\n        yesClicked: this.yesClicked,\n        noClicked: this.noClicked,\n        showConfirm: this.state.showConfirm,\n        title: this.state.title,\n        message: this.state.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(AddAgent, {\n        showLoading: this.showLoading,\n        hideLoading: this.hideLoading,\n        handleCloseModal: this.handleCloseModal,\n        showAddAgent: this.state.showAddAgent,\n        reloadAgents: this.reloadAgents\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }, this), this.state.showEditAgent ? /*#__PURE__*/_jsxDEV(EditAgent, {\n        agent: this.state.selected_agent,\n        handleCloseModal: this.handleCloseModal,\n        showEditAgent: this.state.showEditAgent,\n        reloadAgents: this.reloadAgents\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 48\n      }, this) : \"\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/user/Bartender/bartender admin/src/components/Agents.js"],"names":["React","Component","Agent","AddAgent","EditAgent","Loader","ConfirmAction","API","left","float","right","marginTop","Agents","constructor","props","state","showConfirm","title","message","isLoading","showAddAgent","showEditAgent","selected_agent","agents","handleCloseModal","bind","reloadAgents","deleteAgent","showLoading","hideLoading","hideConfirm","yesClicked","noClicked","response","_id","data","setState","componentDidMount","getAgents","e","agent","preventDefault","render","length","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport Agent from '../subcomponents/Agent';\nimport AddAgent from '../subcomponents/AddAgent';\nimport EditAgent from '../subcomponents/EditAgent';\n\nimport Loader from '../subcomponents/Loader';\nimport ConfirmAction from \"../subcomponents/ConfirmAction\";\n\nimport * as API from '../api/Api';\n\nconst left={\n    float: \"left\"\n}\n\nconst right={\n    float: \"right\",\n    marginTop: \"-0.01px\"\n}\n\nexport default class Agents extends Component{\n    constructor(props){\n        super(props);\n        \n        this.state = {\n            showConfirm: false,\n            title: \"Confirm Delete\",\n            message: \"Are you sure you want to delete the selected agent profile ?\",\n            isLoading: true,\n            showAddAgent: false,\n            showEditAgent: false,\n            selected_agent: {},\n            agents: []\n        };\n\n        this.handleCloseModal = this.handleCloseModal.bind(this);\n        this.reloadAgents = this.reloadAgents.bind(this);\n        this.showAddAgent = this.showAddAgent.bind(this);\n        this.showEditAgent = this.showEditAgent.bind(this);\n        this.deleteAgent = this.deleteAgent.bind(this);\n        this.showLoading = this.showLoading.bind(this);\n        this.hideLoading = this.hideLoading.bind(this);\n        this.hideConfirm = this.hideConfirm.bind(this);\n        this.showConfirm = this.showConfirm.bind(this);\n        this.yesClicked = this.yesClicked.bind(this);\n        this.noClicked = this.noClicked.bind(this);\n    }\n\n    async yesClicked(){\n        this.hideConfirm();\n        this.showLoading();\n        const response = await API.deleteAgent(this.state.selected_agent._id);\n        this.hideLoading();\n        if(response==\"error\"){\n            //show error message\n            return;\n        }\n\n        if(response && response.data){\n            this.reloadAgents()  \n        }\n    }\n\n    noClicked(){\n        this.hideConfirm();\n    }\n\n    showConfirm(){\n        this.setState({\n            showConfirm: true\n        })\n    }\n\n    hideConfirm(){\n        this.setState({\n            showConfirm: false\n        })\n    }\n\n    showLoading(){\n        this.setState({\n            isLoading: true\n        })\n    }\n\n    hideLoading(){\n        this.setState({\n            isLoading: false\n        })\n    }\n\n    async componentDidMount(){\n        this.showLoading();\n        const response = await API.getAgents();\n        this.hideLoading();\n        if(response==\"error\"){\n            //show error message\n            return;\n        }\n\n        if(response && response.data){\n            this.setState({\n                agents: response.data\n            })   \n        }\n    }\n\n    async reloadAgents(){\n        this.handleCloseModal();\n\n        const response = await API.getAgents();\n\n        if(response==\"error\"){\n            //show error message\n            return;\n        }\n\n        if(response && response.data){\n            this.setState({\n                agents: response.data\n            })   \n        }\n    }\n\n    handleCloseModal () {\n        this.setState({ \n            showAddAgent: false,\n            showEditAgent: false,\n        });\n    }\n\n    showAddAgent(){\n        this.setState({\n            showAddAgent: true\n        })\n    }\n\n    showEditAgent(e, agent){\n        this.setState({\n            showEditAgent: true,\n            selected_agent: agent\n        })\n\n        e.preventDefault()\n    }\n\n    deleteAgent(e, agent){\n        e.preventDefault();\n\n        this.setState({\n            selected_agent: agent\n        });\n        this.showConfirm();\n    }\n\n    render(){\n        return(\n            <div className=\"top-div\">\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <h5 className=\"text-left\" style={left}>{this.state.agents.length} Agents</h5>\n\n                        <button onClick={this.showAddAgent} className=\"green-bg bt-btn\" style={right}> <i className=\"fas fa-plus white-text\"></i> Add Agent</button>\n                    </div>\n                    <div className=\"row\">\n                        {\n                            this.state.agents.map(agent => {\n                                return <Agent key={agent._id} agent={agent} deleteAgent={this.deleteAgent} editClicked={this.showEditAgent}/>\n                            })\n                        }\n                    </div>\n                </div>\n\n                <Loader isLoading={this.state.isLoading}/>\n\n                <ConfirmAction yesClicked={this.yesClicked} noClicked={this.noClicked} showConfirm={this.state.showConfirm} title={this.state.title} message={this.state.message}/>\n\n                <AddAgent showLoading={this.showLoading} hideLoading={this.hideLoading}  handleCloseModal={this. handleCloseModal} showAddAgent={this.state.showAddAgent} reloadAgents={this.reloadAgents}/>\n\n                {\n                    this.state.showEditAgent ? <EditAgent agent={this.state.selected_agent} handleCloseModal={this. handleCloseModal} showEditAgent={this.state.showEditAgent} reloadAgents={this.reloadAgents}/> : \"\"\n                }\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}