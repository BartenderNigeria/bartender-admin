{"ast":null,"code":"var _jsxFileName = \"/Users/user/Bartender/bartender/client/src/components/Users.js\";\nimport React, { Component } from 'react';\nimport { BottomScrollListener } from 'react-bottom-scroll-listener';\nimport User from '../subcomponents/User';\nimport Loader from '../subcomponents/Loader';\nimport * as API from '../api/Api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst left = {\n  float: \"left\"\n};\nconst right = {\n  float: \"right\",\n  marginTop: \"-0.01px\"\n};\nexport default class Users extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleOnDocumentBottom = () => {\n      this.getUsers();\n    };\n\n    this.state = {\n      isLoading: true,\n      total_count: 0,\n      users: []\n    };\n    this.getUsers = this.getUsers.bind(this);\n    this.countUsers = this.countUsers.bind(this);\n    this.handleOnDocumentBottom = this.handleOnDocumentBottom.bind(this);\n    this.showLoading = this.showLoading.bind(this);\n    this.hideLoading = this.hideLoading.bind(this);\n  }\n\n  showLoading() {\n    this.setState({\n      isLoading: true\n    });\n  }\n\n  hideLoading() {\n    this.setState({\n      isLoading: false\n    });\n  }\n\n  async getUsers() {\n    this.showLoading();\n    const response1 = await API.getUsers(this.state.users.length);\n    this.hideLoading();\n\n    if (response1 == \"error\") {\n      //show error message\n      return;\n    }\n\n    if (response1 && response1.data) {\n      this.setState(state => {\n        if (state.users.length > 0) {\n          var users = state.users.concat(response1.data);\n          return {\n            users: users\n          };\n        } else {\n          return {\n            users: response1.data\n          };\n        }\n      });\n    }\n  }\n\n  async countUsers() {\n    const response1 = await API.countUsers(this.state.users.length);\n\n    if (response1 == \"error\") {\n      //show error message\n      return;\n    }\n\n    if (response1 && response1.data) {\n      this.setState({\n        total_count: response1.data.count\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.getUsers();\n    this.countUsers();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top-div\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"text-left\",\n            style: left,\n            children: [this.state.total_count, \" User(s)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: this.state.users.map(user => {\n            return /*#__PURE__*/_jsxDEV(User, {\n              user: user\n            }, user._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 40\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Loader, {\n        isLoading: this.state.isLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(BottomScrollListener, {\n        onBottom: this.handleOnDocumentBottom\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/user/Bartender/bartender/client/src/components/Users.js"],"names":["React","Component","BottomScrollListener","User","Loader","API","left","float","right","marginTop","Users","constructor","props","handleOnDocumentBottom","getUsers","state","isLoading","total_count","users","bind","countUsers","showLoading","hideLoading","setState","response1","length","data","concat","count","componentDidMount","render","map","user","_id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,oBAAT,QAAqC,8BAArC;AAEA,OAAOC,IAAP,MAAiB,uBAAjB;AAEA,OAAOC,MAAP,MAAmB,yBAAnB;AAEA,OAAO,KAAKC,GAAZ,MAAqB,YAArB;;AAEA,MAAMC,IAAI,GAAG;AACTC,EAAAA,KAAK,EAAE;AADE,CAAb;AAIA,MAAMC,KAAK,GAAG;AACVD,EAAAA,KAAK,EAAE,OADG;AAEVE,EAAAA,SAAS,EAAE;AAFD,CAAd;AAKA,eAAe,MAAMC,KAAN,SAAoBT,SAApB,CAA6B;AACxCU,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SA4BlBC,sBA5BkB,GA4BO,MAAM;AAC3B,WAAKC,QAAL;AACH,KA9BiB;;AAGd,SAAKC,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAE,IADF;AAETC,MAAAA,WAAW,EAAC,CAFH;AAGTC,MAAAA,KAAK,EAAE;AAHE,KAAb;AAMA,SAAKJ,QAAL,GAAgB,KAAKA,QAAL,CAAcK,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBD,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKN,sBAAL,GAA8B,KAAKA,sBAAL,CAA4BM,IAA5B,CAAiC,IAAjC,CAA9B;AACA,SAAKE,WAAL,GAAmB,KAAKA,WAAL,CAAiBF,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKG,WAAL,GAAmB,KAAKA,WAAL,CAAiBH,IAAjB,CAAsB,IAAtB,CAAnB;AACH;;AAEDE,EAAAA,WAAW,GAAE;AACT,SAAKE,QAAL,CAAc;AACVP,MAAAA,SAAS,EAAE;AADD,KAAd;AAGH;;AAEDM,EAAAA,WAAW,GAAE;AACT,SAAKC,QAAL,CAAc;AACVP,MAAAA,SAAS,EAAE;AADD,KAAd;AAGH;;AAMa,QAARF,QAAQ,GAAE;AACZ,SAAKO,WAAL;AACA,UAAMG,SAAS,GAAG,MAAMnB,GAAG,CAACS,QAAJ,CAAa,KAAKC,KAAL,CAAWG,KAAX,CAAiBO,MAA9B,CAAxB;AACA,SAAKH,WAAL;;AACA,QAAGE,SAAS,IAAE,OAAd,EAAsB;AAClB;AACA;AACH;;AAED,QAAGA,SAAS,IAAIA,SAAS,CAACE,IAA1B,EAA+B;AAC3B,WAAKH,QAAL,CAAcR,KAAK,IAAI;AAEnB,YAAGA,KAAK,CAACG,KAAN,CAAYO,MAAZ,GAAmB,CAAtB,EAAwB;AACpB,cAAIP,KAAK,GAAGH,KAAK,CAACG,KAAN,CAAYS,MAAZ,CAAmBH,SAAS,CAACE,IAA7B,CAAZ;AAEA,iBAAO;AACHR,YAAAA,KAAK,EAAEA;AADJ,WAAP;AAGH,SAND,MAOI;AACA,iBAAO;AACHA,YAAAA,KAAK,EAAEM,SAAS,CAACE;AADd,WAAP;AAGH;AACJ,OAdD;AAeH;AACJ;;AAEe,QAAVN,UAAU,GAAE;AACd,UAAMI,SAAS,GAAG,MAAMnB,GAAG,CAACe,UAAJ,CAAe,KAAKL,KAAL,CAAWG,KAAX,CAAiBO,MAAhC,CAAxB;;AAEA,QAAGD,SAAS,IAAE,OAAd,EAAsB;AAClB;AACA;AACH;;AAED,QAAGA,SAAS,IAAIA,SAAS,CAACE,IAA1B,EAA+B;AAC3B,WAAKH,QAAL,CAAc;AACVN,QAAAA,WAAW,EAAEO,SAAS,CAACE,IAAV,CAAeE;AADlB,OAAd;AAGH;AACJ;;AAEDC,EAAAA,iBAAiB,GAAE;AACf,SAAKf,QAAL;AACA,SAAKM,UAAL;AACH;;AAEDU,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA,iCACI;AAAI,YAAA,SAAS,EAAC,WAAd;AAA0B,YAAA,KAAK,EAAExB,IAAjC;AAAA,uBAAwC,KAAKS,KAAL,CAAWE,WAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA,oBAEQ,KAAKF,KAAL,CAAWG,KAAX,CAAiBa,GAAjB,CAAqBC,IAAI,IAAI;AACzB,gCAAO,QAAC,IAAD;AAAqB,cAAA,IAAI,EAAEA;AAA3B,eAAWA,IAAI,CAACC,GAAhB;AAAA;AAAA;AAAA;AAAA,oBAAP;AACH,WAFD;AAFR;AAAA;AAAA;AAAA;AAAA,gBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAaI,QAAC,MAAD;AAAQ,QAAA,SAAS,EAAE,KAAKlB,KAAL,CAAWC;AAA9B;AAAA;AAAA;AAAA;AAAA,cAbJ,eAcI,QAAC,oBAAD;AAAsB,QAAA,QAAQ,EAAE,KAAKH;AAArC;AAAA;AAAA;AAAA;AAAA,cAdJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAkBH;;AApGuC","sourcesContent":["import React, { Component } from 'react';\n\nimport { BottomScrollListener } from 'react-bottom-scroll-listener'\n\nimport User from '../subcomponents/User';\n\nimport Loader from '../subcomponents/Loader';\n\nimport * as API from '../api/Api';\n\nconst left = {\n    float: \"left\"\n}\n\nconst right = {\n    float: \"right\",\n    marginTop: \"-0.01px\"\n}\n\nexport default class Users extends Component{\n    constructor(props){\n        super(props);\n\n        this.state = {\n            isLoading: true,\n            total_count:0,\n            users: []\n        }\n\n        this.getUsers = this.getUsers.bind(this);\n        this.countUsers = this.countUsers.bind(this);\n        this.handleOnDocumentBottom = this.handleOnDocumentBottom.bind(this);\n        this.showLoading = this.showLoading.bind(this);\n        this.hideLoading = this.hideLoading.bind(this);\n    }\n\n    showLoading(){\n        this.setState({\n            isLoading: true\n        })\n    }\n\n    hideLoading(){\n        this.setState({\n            isLoading: false\n        })\n    }\n\n    handleOnDocumentBottom = () => {\n        this.getUsers();\n    }\n\n    async getUsers(){\n        this.showLoading();\n        const response1 = await API.getUsers(this.state.users.length);\n        this.hideLoading();\n        if(response1==\"error\"){\n            //show error message\n            return;\n        }\n\n        if(response1 && response1.data){\n            this.setState(state => {\n\n                if(state.users.length>0){\n                    var users = state.users.concat(response1.data);\n\n                    return {\n                        users: users\n                    }\n                }\n                else{\n                    return {\n                        users: response1.data\n                    }\n                }\n            })   \n        }\n    }\n\n    async countUsers(){\n        const response1 = await API.countUsers(this.state.users.length);\n\n        if(response1==\"error\"){\n            //show error message\n            return;\n        }\n\n        if(response1 && response1.data){\n            this.setState({\n                total_count: response1.data.count\n            })   \n        }\n    }\n\n    componentDidMount(){\n        this.getUsers();\n        this.countUsers();\n    }\n\n    render(){\n        return(\n            <div className=\"top-div\">\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <h5 className=\"text-left\" style={left}>{this.state.total_count} User(s)</h5>\n                    </div>\n                    <div className=\"row\">\n                        {\n                            this.state.users.map(user => {\n                                return <User key={user._id} user={user}/>\n                            })\n                        }\n                    </div>\n                </div>\n                <Loader isLoading={this.state.isLoading}/>\n                <BottomScrollListener onBottom={this.handleOnDocumentBottom} />\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}